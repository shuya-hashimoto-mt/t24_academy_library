<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{common :: meta_header('書籍レビュー',~{::link},~{::script})}">
    <title th:text="${title}+' | MTLibrary'"></title>
    <link rel="stylesheet" th:href="@{/css/book/review.css}" />
    <script type="text/javascript" th:src="@{/js/book/review.js}"></script>
</head>
<body>
    <div class="contents">
        <div th:replace="~{common :: main_sidebar}"></div>
        <div class="main_contents">
            <div th:replace="~{common :: header}"></div>
            <div class="inner_contens">
                <div class="page_title">書籍レビュー</div>
                <div class="page_contents">
                    <div class="inner_contens__operation">
                        <a th:href="@{/book/{id}/{title}/reviewAdd(id=${book_id},title=${book_title})}" class="reviewAdd-btn"><img th:src="@{/images/icons/add.png}" alt="review" />レビュー登録</a>
                    </div>
                    <div>
                        <a th:href="@{/book/index}" class="book_link">← 一覧へ戻る</a>
                    </div>
                    <div class ="book_title">書籍名:[[${book_title}]]</div> 
                    <table class="review_table">
                        <tr>
                            <th>評価(☆1~5)</th>
                            <th>レビュー内容</th>
                            <th>登録日時</th>
                        </tr>
                        <tr th:each="review : ${reviewList}">
                            <td class="reviewStar">
                                <span class="star-rating" th:data-rate="${review.score}"></span>
                            </td>
                            <td th:text="${review.body}"></td>
                            <td th:inline="text">
                                <span>[[${#dates.format(review.createdat, 'yyyy-MM-dd')}]]</span>
                                <a href="#" class="" onClick="openDeleteModal()"><img class="trash_icon" th:src="@{/images/icons/trash.png}" alt="trash" /></a>
                            </td>
                        </tr>
                    </table>
                </div>
                
            </div>
        </div>
    </div>
    <div th:replace="~{common :: footer}"></div>
</body>
